!function(t){var e={getId:function(t){return document.getElementById(t)},getClass:function(t,e){if(t&&t.getElementsByClassName)return t.getElementsByClassName(e);for(var n=[],s=t.getElementsByTagName("*"),a=s.length,i=0;i<a;i++)s[i].className.indexOf(e)>-1&&s[i].className==e&&n.push(s[i]);return n}},n=function(){this.conf={currentPage:1,totalItems:150,itemsPerPage:15,pagesLength:9,onChange:function(t){}}}||{};return n.prototype={init:function(t,n){this.pageNode=e.getId(t),this.pageNode||this.error(t+" is null"),this.conf=n,this.conf.pagesLength=parseInt(this.conf.pagesLength)?parseInt(this.conf.pagesLength):9,this.conf.pagesLength%2===0&&(this.conf.pagesLength=this.conf.pagesLength-1),this.getPagination()},error:function(t){throw new Error(t)},watchFn:function(){this.getPagination(),this.conf.onChange&&this.conf.onChange(this.conf)},changeCurrentPage:function(t){var e=this,n=t.getAttribute("data-type");if("fun"==n)e[""+t.getAttribute("data-fun")]();else{if("number"!=n)return!1;this.conf.currentPage=parseInt(t.innerText)}this.watchFn()},getPagination:function(){var t=this;parseInt(this.conf.currentPage)?parseInt(this.conf.currentPage):1,parseInt(this.conf.totalItems);this.conf.itemsPerPage=parseInt(this.conf.itemsPerPage)?parseInt(this.conf.itemsPerPage):10,this.conf.numberOfPages=Math.ceil(this.conf.totalItems/this.conf.itemsPerPage),this.conf.currentPage<1&&(this.conf.currentPage=1),this.conf.currentPage>this.conf.numberOfPages&&(this.conf.currentPage=this.conf.numberOfPages);var n=this.conf.currentPage,s=[];if(this.conf.numberOfPages<=this.conf.pagesLength)for(g=1;g<=this.conf.numberOfPages;g++)s.push(g);else{var a=(this.conf.pagesLength-1)/2;if(this.conf.currentPage<=a){for(g=1;g<=a+1;g++)s.push(g);s.push("..."),s.push(this.conf.numberOfPages)}else if(this.conf.currentPage>this.conf.numberOfPages-a){for(s.push(1),s.push("..."),g=a+1;g>=1;g--)s.push(this.conf.numberOfPages-g);s.push(this.conf.numberOfPages)}else{for(s.push(1),s.push("..."),g=Math.ceil(a/2);g>=1;g--)s.push(this.conf.currentPage-g);for(s.push(this.conf.currentPage),g=1;g<=a/2;g++)s.push(this.conf.currentPage+g);s.push("..."),s.push(this.conf.numberOfPages)}}this.pageNode.innerHTML='<ul class="pagination fl"></ul>\t\t\t<div class="page-total fl">到第<input class="input text-center" type="text"/>页\t\t\t\t<a href="javascript:;" class="btn btn-default go">GO</a>\t\t\t\t共 <strong></strong>条\t\t\t</div>\t\t\t<div class="no-items">暂无数据</div>';var i=e.getClass(this.pageNode,"no-items")[0],r=e.getClass(this.pageNode,"pagination")[0],o=e.getClass(this.pageNode,"go")[0],c=e.getClass(this.pageNode,"input")[0];this.conf.totalItems>0?i.style.display="none":(i.style.display="block",r.style.display="none",e.getClass(this.pageNode,"page-total")[0].style.display="none"),this.pageNode.getElementsByTagName("strong")[0].innerHTML=this.conf.totalItems;var f="";r.innerHTML="",r.innerHTML+='<li data-type="fun" data-fun="pIndex"><span>首页</span></li><li data-type="fun" data-fun="prevPage"><span>上一页</span></li>';for(var g=0;g<s.length;g++)f="..."==s[g]?"...":"number",r.innerHTML+='<li data-type="'+f+'"><span>'+s[g]+"</span></li>";r.innerHTML+='<li data-type="fun" data-fun="nextPage"><span>下一页</span></li><li data-type="fun" data-fun="pLast"><span>尾页</span></li>';for(var h=r.getElementsByTagName("li"),g=0;g<h.length;g++)h[g].innerText==this.conf.currentPage&&(h[g].className="active"),h[g].onclick=function(){t.changeCurrentPage(this)};o.onclick=function(){var e=c.value;t.conf.numberOfPages=Math.ceil(t.conf.totalItems/t.conf.itemsPerPage);try{n=e.replace(/[^0-9]/g,""),""!==n&&(n>=t.conf.numberOfPages?t.conf.currentPage=t.conf.numberOfPages:t.conf.currentPage=parseInt(n))}catch(t){}t.watchFn()}},pIndex:function(){this.conf.currentPage=1},pLast:function(){this.conf.currentPage=this.conf.numberOfPages?this.conf.numberOfPages:Math.ceil(this.conf.totalItems/this.conf.itemsPerPage)},prevPage:function(){this.conf.currentPage>1&&(this.conf.currentPage-=1)},nextPage:function(){this.conf.numberOfPages=Math.ceil(this.conf.totalItems/this.conf.itemsPerPage),this.conf.currentPage<this.conf.numberOfPages&&(this.conf.currentPage+=1)}},t.drawPage=function(t,e){return(new n).init(t,e)}}(window||{});